{"failedCount":3,"prefixedPath":"src\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature","packageQualifiedName":"src.test.java.org.springframework.api_tests.listener_cancelProductOrderCreateEvent_post","loopIndex":-1,"relativePath":"src\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":223548510,"startTime":1720447230785,"endTime":1720447231009,"millis":223.54851,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":10240069,"startTime":1720447231014,"endTime":1720447231024,"millis":10.240069,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":3810594,"startTime":1720447231024,"endTime":1720447231028,"millis":3.810594,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['AUTH_TOKEN']"}},{"result":{"nanos":67212157,"startTime":1720447231028,"endTime":1720447231095,"millis":67.212157,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Authorization': '#(authToken)' }"}},{"result":{"nanos":1250807,"startTime":1720447231096,"endTime":1720447231097,"millis":1.250807,"status":"passed"},"step":{"line":20,"prefix":"Given","index":0,"text":"path '\/listener\/cancelProductOrderCreateEvent'"}},{"result":{"nanos":1226811,"startTime":1720447231097,"endTime":1720447231098,"millis":1.226811,"status":"passed"},"step":{"endLine":51,"line":21,"prefix":"And","docString":"{\n  \"notification\": {\n    \"date\": \"2023-03-15T10:30:00Z\",\n    \"customer\": {\n      \"subscriberId\": \"12345\"\n    },\n    \"order\": {\n      \"id\": \"20230315000001\",\n      \"correlationOrder\": \"ORD123\",\n      \"associatedDocument\": \"VTT001\",\n      \"issue\": {\n        \"code\": \"7001\",\n        \"description\": \"Pendência Cancelamento por Duplicidade\",\n        \"type\": \"CLIENTE\",\n        \"observation\": \"Order cancelled due to duplication\",\n        \"updateDate\": \"2023-03-15T11:00:00Z\",\n        \"action\": \"fechar\",\n        \"task\": \"Cancel Order\",\n        \"fieldActivity\": \"False\",\n        \"reason\": \"Duplicate order\"\n      }\n    },\n    \"type\": \"CANCELAMENTO\",\n    \"code\": \"2\",\n    \"description\": \"Ordem cancelada\",\n    \"lostEquipment\": \"False\"\n  }\n}","index":1,"text":"request"}},{"result":{"nanos":684094413,"startTime":1720447231099,"endTime":1720447231783,"millis":684.094413,"status":"passed"},"step":{"line":52,"prefix":"When","index":2,"text":"method POST"},"stepLog":"14:00:31.550 request:\n1 > POST http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent\n1 > Authorization: dummy AUTH_TOKEN\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 538\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.11)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2023-03-15T10:30:00Z\",\"customer\":{\"subscriberId\":\"12345\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"ORD123\",\"associatedDocument\":\"VTT001\",\"issue\":{\"code\":\"7001\",\"description\":\"Pendência Cancelamento por Duplicidade\",\"type\":\"CLIENTE\",\"observation\":\"Order cancelled due to duplication\",\"updateDate\":\"2023-03-15T11:00:00Z\",\"action\":\"fechar\",\"task\":\"Cancel Order\",\"fieldActivity\":\"False\",\"reason\":\"Duplicate order\"}},\"type\":\"CANCELAMENTO\",\"code\":\"2\",\"description\":\"Ordem cancelada\",\"lostEquipment\":\"False\"}}\n\n14:00:31.777 response time in milliseconds: 223\n1 < 204\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < Content-type: text\/plain\n1 < Date: Mon, 08 Jul 2024 14:00:31 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n\n\n"},{"result":{"nanos":129533,"startTime":1720447231783,"endTime":1720447231783,"millis":0.129533,"status":"passed"},"step":{"line":53,"prefix":"Then","index":3,"text":"status 204"}},{"result":{"nanos":16288023,"errorMessage":"match failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'text\/plain'\n  'application\/json'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:54","startTime":1720447231784,"endTime":1720447231800,"millis":16.288023,"status":"failed"},"step":{"line":54,"prefix":"And","index":4,"text":"match header Content-Type contains 'application\/json'"},"stepLog":"14:00:31.805 src\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:54\nAnd match header Content-Type contains 'application\/json'\nmatch failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'text\/plain'\n  'application\/json'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:54\n"}],"line":19,"description":"","durationMillis":1007.800917,"failed":true,"error":"match failed: CONTAINS\n  $ | actual does not contain expected (STRING:STRING)\n  'text\/plain'\n  'application\/json'\n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:54","executorName":"main","name":"Successful cancellation of product order create event","startTime":1720447230764,"refId":"[1:19]","endTime":1720447231805,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":3398562,"startTime":1720447231823,"endTime":1720447231826,"millis":3.398562,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":837971,"startTime":1720447231827,"endTime":1720447231828,"millis":0.837971,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":2936521,"startTime":1720447231828,"endTime":1720447231831,"millis":2.936521,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['AUTH_TOKEN']"}},{"result":{"nanos":2148587,"startTime":1720447231831,"endTime":1720447231833,"millis":2.148587,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Authorization': '#(authToken)' }"}},{"result":{"nanos":954780,"startTime":1720447231834,"endTime":1720447231835,"millis":0.95478,"status":"passed"},"step":{"line":57,"prefix":"Given","index":0,"text":"path '\/listener\/cancelProductOrderCreateEvent'"}},{"result":{"nanos":751670,"startTime":1720447231835,"endTime":1720447231836,"millis":0.75167,"status":"passed"},"step":{"endLine":65,"line":58,"prefix":"And","docString":"{\n  \"notification\": {\n    \"date\": \"2023-03-15T10:30:00Z\"\n  }\n}","index":1,"text":"request"}},{"result":{"nanos":20808277,"startTime":1720447231836,"endTime":1720447231857,"millis":20.808277,"status":"passed"},"step":{"line":66,"prefix":"When","index":2,"text":"method POST"},"stepLog":"14:00:31.838 request:\n1 > POST http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent\n1 > Authorization: dummy AUTH_TOKEN\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 48\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.11)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2023-03-15T10:30:00Z\"}}\n\n14:00:31.853 response time in milliseconds: 14\n1 < 204\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < Content-type: text\/plain\n1 < Date: Mon, 08 Jul 2024 14:00:31 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n\n\n"},{"result":{"nanos":9110087,"errorMessage":"status code was: 204, expected: 400, response time in milliseconds: 14, url: http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:67","startTime":1720447231857,"endTime":1720447231866,"millis":9.110087,"status":"failed"},"step":{"line":67,"prefix":"Then","index":3,"text":"status 400"},"stepLog":"14:00:31.866 src\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:67\nThen status 400\nstatus code was: 204, expected: 400, response time in milliseconds: 14, url: http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:67\n"},{"result":{"nanos":0,"startTime":1720447231867,"endTime":1720447231867,"millis":0.0,"status":"skipped"},"step":{"line":68,"prefix":"And","index":4,"text":"match header Content-Type contains 'application\/json'"}},{"result":{"nanos":0,"startTime":1720447231867,"endTime":1720447231867,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"And","index":5,"text":"match response contains 'Bad Request'"}}],"line":56,"description":"","durationMillis":40.946455,"failed":true,"error":"status code was: 204, expected: 400, response time in milliseconds: 14, url: http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:67","executorName":"main","name":"Missing required fields in request body","startTime":1720447231823,"refId":"[2:56]","endTime":1720447231867,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":3939753,"startTime":1720447231878,"endTime":1720447231882,"millis":3.939753,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":420393,"startTime":1720447231883,"endTime":1720447231883,"millis":0.420393,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":1385891,"startTime":1720447231883,"endTime":1720447231884,"millis":1.385891,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":2,"text":"def authToken = karate.properties['AUTH_TOKEN']"}},{"result":{"nanos":1031929,"startTime":1720447231885,"endTime":1720447231886,"millis":1.031929,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"configure headers = { 'Authorization': '#(authToken)' }"}},{"result":{"nanos":282458,"startTime":1720447231886,"endTime":1720447231886,"millis":0.282458,"status":"passed"},"step":{"line":72,"prefix":"Given","index":0,"text":"path '\/listener\/cancelProductOrderCreateEvent'"}},{"result":{"nanos":613140,"startTime":1720447231886,"endTime":1720447231887,"millis":0.61314,"status":"passed"},"step":{"endLine":87,"line":73,"prefix":"And","docString":"{\n  \"notification\": {\n    \"date\": \"2023-03-15T10:30:00Z\",\n    \"customer\": {\n      \"subscriberId\": \"12345\"\n    },\n    \"order\": {\n      \"id\": \"20230315000001\",\n      \"associatedDocument\": \"VTT001\"\n    }\n  }\n}","index":1,"text":"request"}},{"result":{"nanos":22005571,"startTime":1720447231887,"endTime":1720447231909,"millis":22.005571,"status":"passed"},"step":{"line":88,"prefix":"When","index":2,"text":"method POST"},"stepLog":"14:00:31.890 request:\n1 > POST http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent\n1 > Authorization: dummy AUTH_TOKEN\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 146\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.11)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2023-03-15T10:30:00Z\",\"customer\":{\"subscriberId\":\"12345\"},\"order\":{\"id\":\"20230315000001\",\"associatedDocument\":\"VTT001\"}}}\n\n14:00:31.906 response time in milliseconds: 15\n1 < 204\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < Content-type: text\/plain\n1 < Date: Mon, 08 Jul 2024 14:00:31 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n\n\n"},{"result":{"nanos":191125,"errorMessage":"status code was: 204, expected: 401, response time in milliseconds: 15, url: http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:89","startTime":1720447231909,"endTime":1720447231909,"millis":0.191125,"status":"failed"},"step":{"line":89,"prefix":"Then","index":3,"text":"status 401"},"stepLog":"14:00:31.910 src\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:89\nThen status 401\nstatus code was: 204, expected: 401, response time in milliseconds: 15, url: http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:89\n"},{"result":{"nanos":0,"startTime":1720447231910,"endTime":1720447231910,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"And","index":4,"text":"match header Content-Type contains 'application\/json'"}},{"result":{"nanos":0,"startTime":1720447231910,"endTime":1720447231910,"millis":0.0,"status":"skipped"},"step":{"line":91,"prefix":"And","index":5,"text":"match response contains 'Unauthorized'"}}],"line":71,"description":"","durationMillis":29.87026,"failed":true,"error":"status code was: 204, expected: 401, response time in milliseconds: 15, url: http:\/\/localhost:4010\/listener\/cancelProductOrderCreateEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_cancelProductOrderCreateEvent_post.feature:89","executorName":"main","name":"Unauthorized request","startTime":1720447231878,"refId":"[3:71]","endTime":1720447231910,"exampleIndex":-1}],"callDepth":0,"name":"Cancel Product Order Create Event By Client","description":"","resultDate":"2024-07-08 02:00:31 PM","durationMillis":1078.617632,"passedCount":0}