{"failedCount":5,"prefixedPath":"src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature","packageQualifiedName":"src.test.java.com.bootexample4.api_tests.auth_local_post","loopIndex":-1,"relativePath":"src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1370087,"startTime":1722426484697,"endTime":1722426484698,"millis":1.370087,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":521959,"startTime":1722426484699,"endTime":1722426484700,"millis":0.521959,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":783629,"startTime":1722426484699,"endTime":1722426484700,"millis":0.783629,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/auth\/local'"}},{"result":{"nanos":560653,"startTime":1722426484700,"endTime":1722426484701,"millis":0.560653,"status":"passed"},"step":{"endLine":25,"line":19,"prefix":"And","docString":"{\n  \"name\": \"user1\",\n  \"password\": \"pass123\"\n}","index":1,"text":"request"}},{"result":{"nanos":41390405,"startTime":1722426484701,"endTime":1722426484742,"millis":41.390405,"status":"passed"},"step":{"line":26,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:04.704 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 37\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"user1\",\"password\":\"pass123\"}\n\n11:48:04.740 response time in milliseconds: 35\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\"],\"severity\":\"Error\",\"code\":401,\"message\":\"Invalid security scheme used\"}]\n1 < Content-type: application\/json\n1 < Content-Length: 67\n1 < Date: Wed, 31 Jul 2024 11:48:04 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n\n"},{"result":{"nanos":205522,"errorMessage":"status code was: 401, expected: 201, response time in milliseconds: 35, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27","startTime":1722426484742,"endTime":1722426484742,"millis":0.205522,"status":"failed"},"step":{"line":27,"prefix":"Then","index":3,"text":"status 201"},"stepLog":"11:48:04.743 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27\nThen status 201\nstatus code was: 401, expected: 201, response time in milliseconds: 35, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27\n"},{"result":{"nanos":0,"startTime":1722426484743,"endTime":1722426484743,"millis":0.0,"status":"skipped"},"step":{"endLine":35,"line":28,"prefix":"And","docString":"{\n  \"id\": \"#number\",\n  \"statusCall\": \"#string\",\n  \"token\": \"#string\"\n}","index":4,"text":"match response =="}}],"line":38,"description":"","durationMillis":44.832255,"failed":true,"error":"status code was: 401, expected: 201, response time in milliseconds: 35, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27","executorName":"main","name":"Create a new User token","startTime":1722426484696,"refId":"[1.1:38]","endTime":1722426484743,"exampleData":{"name":"user1","password":"pass123"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":1058267,"startTime":1722426484754,"endTime":1722426484755,"millis":1.058267,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":352208,"startTime":1722426484755,"endTime":1722426484755,"millis":0.352208,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":164503,"startTime":1722426484756,"endTime":1722426484756,"millis":0.164503,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/auth\/local'"}},{"result":{"nanos":661279,"startTime":1722426484756,"endTime":1722426484757,"millis":0.661279,"status":"passed"},"step":{"endLine":25,"line":19,"prefix":"And","docString":"{\n  \"name\": \"user2\",\n  \"password\": \"pass456\"\n}","index":1,"text":"request"}},{"result":{"nanos":19150045,"startTime":1722426484757,"endTime":1722426484776,"millis":19.150045,"status":"passed"},"step":{"line":26,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:04.760 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 37\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"user2\",\"password\":\"pass456\"}\n\n11:48:04.774 response time in milliseconds: 13\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\"],\"severity\":\"Error\",\"code\":401,\"message\":\"Invalid security scheme used\"}]\n1 < Content-type: application\/json\n1 < Content-Length: 67\n1 < Date: Wed, 31 Jul 2024 11:48:04 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n\n"},{"result":{"nanos":205646,"errorMessage":"status code was: 401, expected: 201, response time in milliseconds: 13, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27","startTime":1722426484776,"endTime":1722426484776,"millis":0.205646,"status":"failed"},"step":{"line":27,"prefix":"Then","index":3,"text":"status 201"},"stepLog":"11:48:04.777 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27\nThen status 201\nstatus code was: 401, expected: 201, response time in milliseconds: 13, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27\n"},{"result":{"nanos":0,"startTime":1722426484777,"endTime":1722426484777,"millis":0.0,"status":"skipped"},"step":{"endLine":35,"line":28,"prefix":"And","docString":"{\n  \"id\": \"#number\",\n  \"statusCall\": \"#string\",\n  \"token\": \"#string\"\n}","index":4,"text":"match response =="}}],"line":38,"description":"","durationMillis":21.591948,"failed":true,"error":"status code was: 401, expected: 201, response time in milliseconds: 13, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:27","executorName":"main","name":"Create a new User token","startTime":1722426484753,"refId":"[1.2:38]","endTime":1722426484777,"exampleData":{"name":"user2","password":"pass456"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1234204,"startTime":1722426484786,"endTime":1722426484787,"millis":1.234204,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":302461,"startTime":1722426484788,"endTime":1722426484788,"millis":0.302461,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":159132,"startTime":1722426484788,"endTime":1722426484788,"millis":0.159132,"status":"passed"},"step":{"line":41,"prefix":"Given","index":0,"text":"path '\/auth\/local'"}},{"result":{"nanos":653526,"startTime":1722426484788,"endTime":1722426484789,"millis":0.653526,"status":"passed"},"step":{"endLine":48,"line":42,"prefix":"And","docString":"{\n  \"name\": \"invaliduser\",\n  \"password\": \"invalidpass\"\n}","index":1,"text":"request"}},{"result":{"nanos":19015142,"startTime":1722426484789,"endTime":1722426484808,"millis":19.015142,"status":"passed"},"step":{"line":49,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:04.792 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"invaliduser\",\"password\":\"invalidpass\"}\n\n11:48:04.806 response time in milliseconds: 13\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\"],\"severity\":\"Error\",\"code\":401,\"message\":\"Invalid security scheme used\"}]\n1 < Content-type: application\/json\n1 < Content-Length: 67\n1 < Date: Wed, 31 Jul 2024 11:48:04 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n\n"},{"result":{"nanos":24234,"startTime":1722426484808,"endTime":1722426484808,"millis":0.024234,"status":"passed"},"step":{"line":50,"prefix":"Then","index":3,"text":"status 401"}},{"result":{"nanos":20556151,"errorMessage":"match failed: EQUALS\n  $ | not equal | actual has 2 more key(s) than expected - {\"stack\":\"string\",\"details\":{}} (MAP:MAP)\n  {\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n  {\"code\":401,\"message\":\"Unauthorized\"}\n\n\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:51","startTime":1722426484809,"endTime":1722426484830,"millis":20.556151,"status":"failed"},"step":{"endLine":57,"line":51,"prefix":"And","docString":"{\n  \"code\": 401,\n  \"message\": \"Unauthorized\"\n}","index":4,"text":"match response =="},"stepLog":"11:48:04.830 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:51\nAnd match response ==\n\"\"\"\n{\n  \"code\": 401,\n  \"message\": \"Unauthorized\"\n}\n\"\"\"\nmatch failed: EQUALS\n  $ | not equal | actual has 2 more key(s) than expected - {\"stack\":\"string\",\"details\":{}} (MAP:MAP)\n  {\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n  {\"code\":401,\"message\":\"Unauthorized\"}\n\n\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:51\n"}],"line":40,"description":"","durationMillis":41.94485,"failed":true,"error":"match failed: EQUALS\n  $ | not equal | actual has 2 more key(s) than expected - {\"stack\":\"string\",\"details\":{}} (MAP:MAP)\n  {\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n  {\"code\":401,\"message\":\"Unauthorized\"}\n\n\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:51","executorName":"main","name":"Attempt login with invalid credentials","startTime":1722426484786,"refId":"[2:40]","endTime":1722426484830,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":924512,"startTime":1722426484839,"endTime":1722426484840,"millis":0.924512,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":344828,"startTime":1722426484840,"endTime":1722426484840,"millis":0.344828,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":349706,"startTime":1722426484841,"endTime":1722426484841,"millis":0.349706,"status":"passed"},"step":{"line":60,"prefix":"Given","index":0,"text":"path '\/auth\/local'"}},{"result":{"nanos":487100,"startTime":1722426484841,"endTime":1722426484841,"millis":0.4871,"status":"passed"},"step":{"endLine":66,"line":61,"prefix":"And","docString":"{\n  \"name\": \"testuser\"\n}","index":1,"text":"request"}},{"result":{"nanos":18529279,"startTime":1722426484842,"endTime":1722426484861,"millis":18.529279,"status":"passed"},"step":{"line":67,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:04.844 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 19\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"testuser\"}\n\n11:48:04.858 response time in milliseconds: 13\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\"],\"severity\":\"Error\",\"code\":401,\"message\":\"Invalid security scheme used\"},{\"location\":[\"request\",\"body\"],\"severity\":\"Error\",\"code\":\"required\",\"message\":\"Request body must have required property 'password'\"}]\n1 < Content-type: application\/json\n1 < Content-Length: 67\n1 < Date: Wed, 31 Jul 2024 11:48:04 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n\n"},{"result":{"nanos":252940,"errorMessage":"status code was: 401, expected: 400, response time in milliseconds: 13, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:68","startTime":1722426484860,"endTime":1722426484860,"millis":0.25294,"status":"failed"},"step":{"line":68,"prefix":"Then","index":3,"text":"status 400"},"stepLog":"11:48:04.861 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:68\nThen status 400\nstatus code was: 401, expected: 400, response time in milliseconds: 13, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:68\n"},{"result":{"nanos":0,"startTime":1722426484861,"endTime":1722426484861,"millis":0.0,"status":"skipped"},"step":{"endLine":75,"line":69,"prefix":"And","docString":"{\n  \"code\": 400,\n  \"message\": \"#string\"\n}","index":4,"text":"match response contains"}}],"line":59,"description":"","durationMillis":20.888365,"failed":true,"error":"status code was: 401, expected: 400, response time in milliseconds: 13, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:68","executorName":"main","name":"Attempt login with missing required fields","startTime":1722426484839,"refId":"[3:59]","endTime":1722426484861,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":915022,"startTime":1722426484869,"endTime":1722426484870,"millis":0.915022,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":258643,"startTime":1722426484870,"endTime":1722426484870,"millis":0.258643,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":157999,"startTime":1722426484870,"endTime":1722426484870,"millis":0.157999,"status":"passed"},"step":{"line":78,"prefix":"Given","index":0,"text":"path '\/auth\/local'"}},{"result":{"nanos":542871,"startTime":1722426484870,"endTime":1722426484871,"millis":0.542871,"status":"passed"},"step":{"endLine":85,"line":79,"prefix":"And","docString":"{\n  \"name\": \"serverErrorUser\",\n  \"password\": \"serverErrorPass\"\n}","index":1,"text":"request"}},{"result":{"nanos":43108450,"startTime":1722426484871,"endTime":1722426484914,"millis":43.10845,"status":"passed"},"step":{"line":86,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:04.897 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 55\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"name\":\"serverErrorUser\",\"password\":\"serverErrorPass\"}\n\n11:48:04.913 response time in milliseconds: 15\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\"],\"severity\":\"Error\",\"code\":401,\"message\":\"Invalid security scheme used\"}]\n1 < Content-type: application\/json\n1 < Content-Length: 67\n1 < Date: Wed, 31 Jul 2024 11:48:04 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\n\n"},{"result":{"nanos":217181,"errorMessage":"status code was: 401, expected: 500, response time in milliseconds: 15, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:87","startTime":1722426484914,"endTime":1722426484914,"millis":0.217181,"status":"failed"},"step":{"line":87,"prefix":"Then","index":3,"text":"status 500"},"stepLog":"11:48:04.915 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:87\nThen status 500\nstatus code was: 401, expected: 500, response time in milliseconds: 15, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:87\n"},{"result":{"nanos":0,"startTime":1722426484915,"endTime":1722426484915,"millis":0.0,"status":"skipped"},"step":{"endLine":94,"line":88,"prefix":"And","docString":"{\n  \"code\": 500,\n  \"message\": \"Internal Server Error\"\n}","index":4,"text":"match response =="}}],"line":77,"description":"","durationMillis":45.200166,"failed":true,"error":"status code was: 401, expected: 500, response time in milliseconds: 15, url: http:\/\/localhost:4010\/auth\/local, response: \n{\"code\":401,\"message\":\"Unauthorized\",\"stack\":\"string\",\"details\":{}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_post.feature:87","executorName":"main","name":"Simulate server error during login","startTime":1722426484868,"refId":"[4:77]","endTime":1722426484915,"exampleIndex":-1}],"callDepth":0,"name":"Authentication - Local Login","description":"","resultDate":"2024-07-31 11:48:04 AM","durationMillis":174.457584,"passedCount":0}