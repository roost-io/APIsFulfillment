{"failedCount":4,"prefixedPath":"src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature","packageQualifiedName":"src.test.java.com.bootexample4.api_tests.auth_local_forgot_post","loopIndex":-1,"relativePath":"src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":61264932,"startTime":1722426482334,"endTime":1722426482395,"millis":61.264932,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":10181947,"startTime":1722426482400,"endTime":1722426482410,"millis":10.181947,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":1937456,"startTime":1722426482411,"endTime":1722426482413,"millis":1.937456,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/auth\/local\/forgot'"}},{"result":{"nanos":36056551,"startTime":1722426482413,"endTime":1722426482449,"millis":36.056551,"status":"passed"},"step":{"endLine":24,"line":19,"prefix":"And","docString":"{\n  \"email\": \"user@example.com\"\n}","index":1,"text":"request"}},{"result":{"nanos":635718961,"startTime":1722426482449,"endTime":1722426483085,"millis":635.718961,"status":"passed"},"step":{"line":25,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:02.890 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\/forgot\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 28\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"user@example.com\"}\n\n11:48:03.079 response time in milliseconds: 183\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < content-type: application\/problem+json\n1 < WWW-Authenticate: Bearer,Basic realm=\"*\",OpenID\n1 < Content-Length: 341\n1 < Date: Wed, 31 Jul 2024 11:48:03 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\n\n"},{"result":{"nanos":14407260,"errorMessage":"status code was: 401, expected: 201, response time in milliseconds: 183, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26","startTime":1722426483085,"endTime":1722426483099,"millis":14.40726,"status":"failed"},"step":{"line":26,"prefix":"Then","index":3,"text":"status 201"},"stepLog":"11:48:03.105 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26\nThen status 201\nstatus code was: 401, expected: 201, response time in milliseconds: 183, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26\n"},{"result":{"nanos":0,"startTime":1722426483105,"endTime":1722426483105,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":4,"text":"match response == ''"}}],"line":30,"description":"","durationMillis":759.567107,"failed":true,"error":"status code was: 401, expected: 201, response time in milliseconds: 183, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26","executorName":"main","name":"Create a new password reset token","startTime":1722426482312,"refId":"[1.1:30]","endTime":1722426483105,"exampleData":{"email":"user@example.com"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5091594,"startTime":1722426483125,"endTime":1722426483130,"millis":5.091594,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":966151,"startTime":1722426483131,"endTime":1722426483132,"millis":0.966151,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":1351035,"startTime":1722426483132,"endTime":1722426483133,"millis":1.351035,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/auth\/local\/forgot'"}},{"result":{"nanos":1110535,"startTime":1722426483133,"endTime":1722426483134,"millis":1.110535,"status":"passed"},"step":{"endLine":24,"line":19,"prefix":"And","docString":"{\n  \"email\": \"another@example.com\"\n}","index":1,"text":"request"}},{"result":{"nanos":28523445,"startTime":1722426483135,"endTime":1722426483164,"millis":28.523445,"status":"passed"},"step":{"line":25,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:03.139 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\/forgot\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 31\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"another@example.com\"}\n\n11:48:03.160 response time in milliseconds: 20\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < content-type: application\/problem+json\n1 < WWW-Authenticate: Bearer,Basic realm=\"*\",OpenID\n1 < Content-Length: 341\n1 < Date: Wed, 31 Jul 2024 11:48:03 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\n\n"},{"result":{"nanos":205871,"errorMessage":"status code was: 401, expected: 201, response time in milliseconds: 20, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26","startTime":1722426483164,"endTime":1722426483164,"millis":0.205871,"status":"failed"},"step":{"line":26,"prefix":"Then","index":3,"text":"status 201"},"stepLog":"11:48:03.164 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26\nThen status 201\nstatus code was: 401, expected: 201, response time in milliseconds: 20, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26\n"},{"result":{"nanos":0,"startTime":1722426483165,"endTime":1722426483165,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":4,"text":"match response == ''"}}],"line":30,"description":"","durationMillis":37.248631,"failed":true,"error":"status code was: 401, expected: 201, response time in milliseconds: 20, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:26","executorName":"main","name":"Create a new password reset token","startTime":1722426483125,"refId":"[1.2:30]","endTime":1722426483165,"exampleData":{"email":"another@example.com"},"exampleIndex":1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":2098357,"startTime":1722426483184,"endTime":1722426483186,"millis":2.098357,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":1130176,"startTime":1722426483186,"endTime":1722426483187,"millis":1.130176,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":440038,"startTime":1722426483187,"endTime":1722426483187,"millis":0.440038,"status":"passed"},"step":{"line":33,"prefix":"Given","index":0,"text":"path '\/auth\/local\/forgot'"}},{"result":{"nanos":874333,"startTime":1722426483188,"endTime":1722426483189,"millis":0.874333,"status":"passed"},"step":{"line":34,"prefix":"And","index":1,"text":"request {}"}},{"result":{"nanos":35193958,"startTime":1722426483189,"endTime":1722426483224,"millis":35.193958,"status":"passed"},"step":{"line":35,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:03.193 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\/forgot\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{}\n\n11:48:03.221 response time in milliseconds: 26\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < content-type: application\/problem+json\n1 < WWW-Authenticate: Bearer,Basic realm=\"*\",OpenID\n1 < Content-Length: 341\n1 < Date: Wed, 31 Jul 2024 11:48:03 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\n\n"},{"result":{"nanos":280138,"errorMessage":"status code was: 401, expected: 400, response time in milliseconds: 26, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:36","startTime":1722426483225,"endTime":1722426483225,"millis":0.280138,"status":"failed"},"step":{"line":36,"prefix":"Then","index":3,"text":"status 400"},"stepLog":"11:48:03.225 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:36\nThen status 400\nstatus code was: 401, expected: 400, response time in milliseconds: 26, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:36\n"}],"line":32,"description":"","durationMillis":40.017,"failed":true,"error":"status code was: 401, expected: 400, response time in milliseconds: 26, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:36","executorName":"main","name":"Attempt to create a password reset token with missing email","startTime":1722426483183,"refId":"[2:32]","endTime":1722426483226,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":1895385,"startTime":1722426483239,"endTime":1722426483241,"millis":1.895385,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":914732,"startTime":1722426483241,"endTime":1722426483242,"millis":0.914732,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":411799,"startTime":1722426483242,"endTime":1722426483242,"millis":0.411799,"status":"passed"},"step":{"line":39,"prefix":"Given","index":0,"text":"path '\/auth\/local\/forgot'"}},{"result":{"nanos":907663,"startTime":1722426483243,"endTime":1722426483244,"millis":0.907663,"status":"passed"},"step":{"endLine":45,"line":40,"prefix":"And","docString":"{\n  \"email\": \"error@example.com\"\n}","index":1,"text":"request"}},{"result":{"nanos":21529803,"startTime":1722426483244,"endTime":1722426483266,"millis":21.529803,"status":"passed"},"step":{"line":46,"prefix":"When","index":2,"text":"method POST"},"stepLog":"11:48:03.248 request:\n1 > POST http:\/\/localhost:4010\/auth\/local\/forgot\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 29\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"error@example.com\"}\n\n11:48:03.263 response time in milliseconds: 14\n1 < 401\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < content-type: application\/problem+json\n1 < WWW-Authenticate: Bearer,Basic realm=\"*\",OpenID\n1 < Content-Length: 341\n1 < Date: Wed, 31 Jul 2024 11:48:03 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\n\n"},{"result":{"nanos":155292,"errorMessage":"status code was: 401, expected: 500, response time in milliseconds: 14, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:47","startTime":1722426483265,"endTime":1722426483265,"millis":0.155292,"status":"failed"},"step":{"line":47,"prefix":"Then","index":3,"text":"status 500"},"stepLog":"11:48:03.266 src\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:47\nThen status 500\nstatus code was: 401, expected: 500, response time in milliseconds: 14, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:47\n"},{"result":{"nanos":0,"startTime":1722426483266,"endTime":1722426483266,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":4,"text":"match response contains { code: 500, message: '#string' }"}},{"result":{"nanos":0,"startTime":1722426483266,"endTime":1722426483266,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":5,"text":"match response.code == 500"}},{"result":{"nanos":0,"startTime":1722426483266,"endTime":1722426483266,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":6,"text":"match response.message == 'Internal Server Error'"}},{"result":{"nanos":0,"startTime":1722426483266,"endTime":1722426483266,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":7,"text":"match response contains { stack: '#string?' }"}},{"result":{"nanos":0,"startTime":1722426483266,"endTime":1722426483266,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":8,"text":"match response contains { details: '#object?' }"}}],"line":38,"description":"","durationMillis":25.814674,"failed":true,"error":"status code was: 401, expected: 500, response time in milliseconds: 14, url: http:\/\/localhost:4010\/auth\/local\/forgot, response: \n{\"type\":\"https:\/\/stoplight.io\/prism\/errors#UNAUTHORIZED\",\"title\":\"Invalid security scheme used\",\"status\":401,\"detail\":\"Your request does not fullfil the security requirements and no HTTP unauthorized response was found in the spec, so Prism is generating this error for you.\",\"headers\":{\"WWW-Authenticate\":\"Bearer,Basic realm=\\\"*\\\",OpenID\"}}\nsrc\/test\/java\/com\/bootexample4\/api_tests\/auth_local_forgot_post.feature:47","executorName":"main","name":"Internal server error when creating password reset token","startTime":1722426483238,"refId":"[3:38]","endTime":1722426483266,"exampleIndex":-1}],"callDepth":0,"name":"Local Forgot Password API","description":"","resultDate":"2024-07-31 11:48:03 AM","durationMillis":862.647412,"passedCount":0}