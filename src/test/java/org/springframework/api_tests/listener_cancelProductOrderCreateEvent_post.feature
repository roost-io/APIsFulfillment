# ********RoostGPT********

# Test generated by RoostGPT for test fflive using AI Type Open AI and AI Model gpt-4-turbo
# 
# Feature file generated for /listener/cancelProductOrderCreateEvent_post for http method type POST 
# RoostTestHash=410c81a448
# 
# 

# ********RoostGPT********
Feature: Cancel Product Order Create Event By Client

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:4010')
    * url urlBase
    * def authToken = karate.properties['AUTH_TOKEN']
    * header Authorization = 'Bearer ' + authToken

  Scenario: Valid request to cancel product order create event
    Given path '/listener/cancelProductOrderCreateEvent'
    And request
      """
      {
        notification: {
          date: '2023-09-12T08:00:00Z',
          customer: { subscriberId: '1234567890' },
          order: {
            id: '20230315000001',
            correlationOrder: 'CORR001',
            associatedDocument: 'VTT001',
            issue: {
              code: { code: 7001 },
              description: { description: 'Pendência Cancelamento por Duplicidade' },
              type: 'CLIENTE',
              observation: 'Observação detalhada',
              updateDate: '2023-09-12T09:00:00Z',
              action: 'abrir',
              task: 'Task001',
              fieldActivity: 'True',
              reason: 'Teste de cancelamento'
            },
            type: 'Tipo1',
            code: '0',
            description: 'Ordem encerrada com sucesso',
            lostEquipment: 'False',
            resource: {
              resource: {
                gponAccess: 'GPON123',
                devices: {
                  device: [
                    {
                      category: 'CAT1',
                      type: 'Tipo1',
                      description: 'Descrição do dispositivo',
                      state: 'ativo',
                      usageState: 'em uso',
                      startOperatingDate: '2023-09-10T08:00:00Z',
                      resourceCharacteristic: [
                        {
                          name: 'Caracteristica1',
                          value: 'Valor1'
                        }
                      ]
                    }
                  ]
                },
                fiberPath: {
                  items: {
                    item: [
                      {
                        name: 'Caminho1',
                        value: 'ValorCaminho1'
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      }
      """
    When method POST
    Then status 204

  Scenario Outline: Invalid request to cancel product order with missing fields
    Given path '/listener/cancelProductOrderCreateEvent'
    And request
      """
      <body>
      """
    When method POST
    Then status <status>

    Examples:
      | read('listener_cancelProductOrderCreateEvent_post.csv') |
